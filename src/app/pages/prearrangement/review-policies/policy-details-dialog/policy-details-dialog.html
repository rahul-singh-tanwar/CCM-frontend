<h2 mat-dialog-title>Company — {{ data.companyName }}</h2>

<div mat-dialog-content>
  <div class="policy-info">
    <p><strong>Policy Number:</strong> {{ data.policyNumber }}</p>
    <p><strong>Policy Type:</strong> {{ data.policyType }}</p>
    <p><strong>Effective Date:</strong> {{ data.effectiveDate }}</p>
    <p><strong>Expiry Date:</strong> {{ data.expiryDate }}</p>
  </div>

  <h3>Benefits</h3>
  <div class="table-wrapper">
    <table class="inner-table">
      <thead>
        <tr>
          <th>Benefit Name</th>
          <th>Limit</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let b of data.benefits">
          <td>{{ b.name }}</td>
          <td>{{ b.limit }}</td>
          <td>{{ b.remarks }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <hr />

  <h3>Additional Details</h3>
  <form #detailsForm="ngForm">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Physician Licence Number</mat-label>
      <input matInput name="physicianLicense" [(ngModel)]="physicianLicense" required>
      <mat-error *ngIf="detailsForm.submitted && !physicianLicense">
        Physician Licence Number is required
      </mat-error>
    </mat-form-field>

  <mat-form-field appearance="fill" class="full-width simb-field">
    <mat-label>SIMB Amount</mat-label>
  
    <span matPrefix class="baht-prefix">฿&nbsp;</span>
  
    <input matInput name="simbAmount" [(ngModel)]="simbAmount" type="number" required />
  
    <mat-error *ngIf="detailsForm.submitted && !simbAmount">
      SIMB Amount is required
    </mat-error>
  </mat-form-field>
  </form>
  <hr />

  <h3>Upload Documents</h3>
  <app-file-upload #labFiles title="Lab Result Documents"></app-file-upload>
  <app-file-upload #formFiles title="Form Documents"></app-file-upload>
  <app-file-upload #otherFiles title="Other Documents"></app-file-upload>

  
</div>

<div mat-dialog-actions align="end">
  <button mat-stroked-button (click)="close()">Close</button>
  <button mat-raised-button color="primary" (click)="submit(detailsForm)">Submit</button>
</div>
